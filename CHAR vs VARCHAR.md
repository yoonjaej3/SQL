# CHAR vs VARCHAR



**CHAR**

고정길이 문자열 타입으로 만약 타입의 크기만큼의 데이터가 들어오지 않은경우 이후의 공간을 스페이스로 채워넣습니다.

고정길이 문자열이기 때문에 헤더에는 레코드의 길이에 대한 정보가 들어있지 않습니다.

**VARCHAR**

가변길이 문자열 타입으로 타입의 크기만큼의 데이터가 들어오지 않더라도 이후의 공간을 스페이스로 채워넣지 않습니다.

가변길이 문자열이기 때문에 헤더에는 레코드의 길이에 대한 정보가 포함되어야 합니다.

예를들어 CHAR(5) 와 VARCHAR(5) 에 데이터 ABC 가 들어오는 경우 아래처럼 저장이 됩니다.

![image](https://user-images.githubusercontent.com/57666307/122777375-f20a3b80-d2e6-11eb-8535-305a6fb243ae.png)


**속도**

VARCHAR 는 CHAR 타입에 대비해서 레코드의 길이가 몇이다 라는 연산을 거쳐야 합니다.

당연히 속도상에서 아주아주 미세하게 이점이 있을 수 있습니다.

**공간**

CHAR 는 고정길이 공간 입니다. 초기의 데이터에서 더 긴 경우의 데이터로 갱신되는 경우 이미 할당해 놓은 공간을 재사용합니다.

VARCHAR 는 가변길이 공간 입니다. 초기의 데이터에서 더 긴 경우의 데이터로 갱신되는 경우 해당 공간에 쓰지 못하고 데이터 마이그레이션 현상이 나타날 수 있습니다.

그러나 벤더사별로 REORG, REBUILD 라는 분할된 블럭등을 정리하는 기능이 나오고 있습니다. 이미 나온곳도 있습니다.

그래서 VARCHAR 의 블럭분할 현상도 갱신되었다고 봅니다.
